asyncapi: 2.3.0
info:
  title: Stolen Vehicle Tracking Messages
  Feature Name: Stolen vehicle tracking (SVT)
  UID: 9
  version: 0.0.1
  description: Definition of SVT service messages in charge of track the vehicle
components:
  schemas:
    RemoteNotification:
      SVTTracking:
        header:
          allOf:
            - $ref: 'DCM_Header_schema.yaml#/components/schemas/RemoteNotificationHeader'
            - type: object
              properties:
                TargetId:
                  type: string
                  enum:
                  - SVTTracking
          required:
            - TargetId          
        payload:
          type: object
          properties:
            timeStamp:
              type: string
              format: date-time
              description: UTC of data collection in the vehicle
            SVTTriggerType:
              $ref: >-
                MDD_data.yaml#/components/schemas/MDD_list/properties/SVTTriggerType
            LocationLatitude:
              $ref: >-
                MDD_data.yaml#/components/schemas/MDD_list/properties/LocationLatitude
            vlolo:
              type: number
              format: double
              description: blablabla
              longLabel: Vehicle/Location/Longitude
              example: -99.99
            lkal:
              type: number
              format: integer
              description: blablabla
              longLabel: Vehicle/Location/Altitude
              example: 1563
            locval:
              type: integer
              format: Enum Of Integer
              description: blablabla
              longLabel: Vehicle/Location/Validity
              enum: [5,7,9]
            sdvk:
              type: number
              format: float
              description: blablabla
              longLabel: Vehicle/Received/Speed/Displayed/Valueinkmh
              example: 60
            vehs:
              type: number
              format: integer
              description: blablabla
              longLabel: VVehicle/Received/Status/VehicleStates
              example: 2
            km:
              type: number
              format: float
              description: em Km
              longLabel: Vehicle/Received/Status/DistanceTotalizer
              example: 2458
            socbat:
              type: number
              format: float
              description: blablabla
              longLabel: Vehicle/Received/Status/EEM/SOCBattery14V
              example: 12
            svtss:
              type: string
              description: blablabla
              longLabel: SVT_Tracking/Sent/Notification/ServiceState
              example: Tracking
            svtci:
              type: number
              format: integer
              description: blablabla
              longLabel: SVT_Tracking/Sent/Notification/CircularIndex
              example: 1
        required:
          - TS
          - vlola
          - vlolo
          - lkal
    RemoteServiceSetting:
      SVTSettings:
        header:
          allOf:
            - $ref: 'DCM_Header_schema.yaml#/components/schemas/RemoteAIVCACKSettingHeader'
            - type: object
              properties:
                TargetId:
                  type: string
                  enum:
                  - SVTTracking
          required:
            - TargetId
        payload:
          type: object
          properties:
            svtba:
              type: string
              description: Track mode requested to vehicle
              example: track
        required:
          - svtba
